# Study Plan App — Non-Functional Requirements (NFR)

| ID     | Название                         | Описание                                                                 | Метрика / Порог                   | Проверка (чем / где)                   | Компонент        | Приоритет | Связь с Issue |
|--------|----------------------------------|--------------------------------------------------------------------------|-----------------------------------|----------------------------------------|------------------|------------|---------------|
| NFR-01 | Время ответа API                 | Эндпоинты `/topics` обрабатываются ≤ 400 мс на 95% запросов             | p95 ≤ 400 мс                      | Нагрузочный тест (Locust / K6)         | FastAPI backend  | Medium     | issue: #7     |
| NFR-02 | Корректная обработка ошибок      | Все 404 и 422 ошибки обрабатываются в едином формате                    | ≥ 95% корректных ответов          | pytest (test_not_found_topic)          | API Layer        | High       | issue: #8     |
| NFR-03 | Валидация входных данных         | `title` обязателен, `progress ∈ [0;100]`                                | 100% проверок Pydantic            | pytest (test_validation_error)         | Validation       | High       | issue: #9     |
| NFR-04 | Безопасность БД                  | Только ORM-запросы (без `.execute()` или raw SQL)                       | 100% ORM-запросов                 | Static Analysis + pytest               | DB Layer         | High       | issue: #10    |
| NFR-05 | Логирование действий             | Все операции `/topics` логируются с уровнем INFO                        | ≥ 90% запросов                    | Logging middleware                     | Backend          | Medium     | issue: #11    |
| NFR-06 | Устойчивость при нагрузке        | При 50 RPS доля ошибок ≤ 2%                                             | error_rate ≤ 2%                   | Locust/K6                              | API backend      | Medium     | issue: #12    |
| NFR-07 | Покрытие тестами                 | Код протестирован минимум на 80% строк                                  | coverage ≥ 80%                    | pytest + coverage report               | CI / Backend     | High       | issue: #13    |
| NFR-08 | Консистентность данных           | После удаления темы нельзя получить её повторно                         | 100% корректных транзакций        | pytest (CRUD tests)                    | DB Layer         | High       | issue: #14    |
